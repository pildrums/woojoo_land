## 23.05.31

- 초기 개발 셋팅 완료

## 23.06.01

- 임시 로그인, 로그아웃 기능 제작
- 사용자 페이지에 사용될 API를 Postman으로 검증

## 23.06.02

- 사용자 페이지 네비게이션 생성
- 사용자 페이지 내 하위 페이지 중첩 라우팅

## 23.06.05

계좌 관리 페이지, 주문 내역 페이지, 개인 정보 수정 페이지 일부 기능 구현
(구매취소, 구매확정 등 선행 조치가 필요한 기능은 미구현)

## 23.06.07

- 개인 정보 수정 페이지에서 비밀번호 수정 에러메시지 출력
- 임시 관리자 페이지 구현
  - 전체 사용자 목록 조회
  - 전체 상품 목록 조회
  - 개별 상품 삭제
  - 상품 추가
  - 상품 수정

## 23.06.08

- user 페이지 임시 기본 스타일링
- UserTitle, UserLayout 컴포넌트 생성 및 적용
- 계좌 추가 Modal 생성 및 형태 구현
- yarn.lock 충돌 관련 트러블 슈팅
  - 원본 저장소 yarn.lock 삭제
  - 이후 모든 클론 로컬 저장소에서 yarn.lock 과 node_modules 삭제 후 npm ci 로 yarn.lock 삭제
  - 기존 커밋 내역에 남아있던 yarn.lock은 일단 원격 저장소에 push 후 깃허브에서 직접 삭제
  - 모든 저장소에서 yarn.lock 삭제 확인 후 원본 저장소와 sync

## 23.06.09

- UserNav 스타일 조정
- GreyInput 공통 input 컴포넌트 생성
- 계좌 추가 Modal 임시 스타일링
- 계좌 추가 기능 구현

## 23.06.11

- UserModal 스타일 디자인 기획대로 수정
- 계좌 추가시 AccountPage 내 현재 계좌 목록 재렌더링

## 23.06.12

- SettingPage 컴포넌트 구조 변경
- 사용자 설정 페이지 내에 비밀번호 인증 로직 추가
  - 로그인 API와 인증 API를 이용해 구현
  - 인증 API로 토큰에서 email 추출 후 로그인 API의 body로 전달, 비밀번호는 사용자가 직접 입력하도록 구성

## 23.06.13

- local storage를 이용해 찜 기능 구현
- key : 현재 로그인 된 사용자 이메일, value : 상품 정보 객체

## 23.06.14

- local storage를 이용한 임시 장바구니 기능 구현
  - 찜 목록의 각 아이템에 '장바구니에 넣기' 버튼 할당
  - 버튼을 누르면 해당 아이템이 'cart\_이메일' key에 할당된 value로 추가
  - 찜 목록의 key를 'like\_이메일'로 변경
- 개인정보 수정 페이지의 API 에러 메시지 출력 구현
  - 에러 메시지가 발생하지 않을 시 초록색으로 '정보가 수정되었습니다.' 메시지 출력
  - 에러 메시지 발생시 빨간색으로 해당 메시지 출력
  - 에러가 바뀔 때마다 실시간 메시징 처리

## 23.06.15

- 공용 함수 파일 생성
  - 달러화 변환 함수
  - 한국 날짜 포맷 변환 함수
- Header에 로그인 된 사용자명 표시 기능 구현
  - 단, 사용자명 수정 직후에는 즉각적으로 바뀌지 않는 문제 발견
- 계좌 조회 페이지, 주문 목록 페이지 디자인 기획에 맞게 스타일링
- user 페이지와 Header 사이에 여백 추가
- 개인 정보 수정 페이지 내 비밀번호 폼 제출 유효성 검사 추가
  - 비밀번호 input 둘 중 하나만 입력 된 경우 에러 메시지 출력
  - 정보 수정이 완료되면 input value 초기화
  - 에러 문구는 2.5초 후 사라지게 처리
- 개인 정보 수정 인증 페이지에서 비밀번호 제출시 input value 초기화
- 개인 정보 수정 인증 페이지 수직 정렬 보완
- userNav 스타일 수정

## 23.06.16

- 주문 내역 페이지 캘린더 기능을 위한 react-calendar library 설치
- 캘린더 날짜 범위 설정 기능을 이용해 해당 날짜 범위 배열 생성 후, 주문 내역의 날짜들과 대조
- 캘린더 내 날짜 미선택시 전체 주문 내역 표시
- toISOString 사용시 UTC 기준 날짜 변경으로 인해 의도하지 않은 날짜로 선택되는 문제 해결
  - toISOString대신 toLocaleDateString 메소드 사용
  - 정규표현식, replace, slice 등을 사용해 하드코딩 하는것보다 훨씬 간결하게 날짜 구성 가능

## 23.06.19

- 로그인 미확인시 유저페이지 접근 불가
  - alert로 브라우저 모달 표시
  - login 페이지로 이동 처리

## 23.06.20

- new Map()과 react-collapsible library를 이용해 구매 내역별 상세 내용 조회 기능 구현
- 주문 내역에 구매 확정, 취소 기능 추가
- 필요한 구간에 confirm 모달 추가

## 23.06.21

- UserNav hover 및 active 스타일 추가
- 각 페이지별 button hover 스타일 추가
- Header 로그아웃버튼 동작시 alert와 함께 메인 페이지로 리디렉션 처리

## 23.06.22

- FileReader를 이용해 사용자 프로필 이미지 수정기능 추가
  - 업로드 가능한 확장자를 jpg, jped, png, svg 로 제한
  - 기존 프로필 이미지를 불러와 초기값으로 전달
  - base64로 읽은 파일 데이터를 API로 전달 및 미리보기로 화면에 렌더링
  - 파일을 선택하면 해당 파일명이 나오도록 구현
- Header에 프로필 이미지 표시
  - 기존 이미지는 초기값으로 설정 (프로필 이미지 미설정 또는 미 로그인 상태)
  - 로그인시 설정한 프로필 이미지 표시
- 찜 목록 페이지 스타일링 및 찜 삭제 기능 구현
  - 테스트용 코드 제거
  - '장바구니 담기' 버튼 동작시 페이지 이동 여부를 결정하는 confirm 모달 동작

## 23.06.23

- 세부 문제 해결
  - check 함수의 saga 작업으로 인해 임시 check2 함수 생성
  - 찜 목록이 없을 때의 에러 메시지 출력 로직 변경

## 23.06.26

- 관리자 페이지 접근 제한
  - 환경변수에 접근 가능한 관리자 정보 추가
  - 해당 조건을 만족하지 않는 사용자는 관리자페이지 접근시 alert와 함께 메인페이지로 이동
- 제품 수정 Modal 동작시 해당 제품의 기존 데이터를 placeholder로 표시
- Header 내 관리자 페이지 이동 버튼 생성 (관리자 전용)
- main 페이지 내에서 조건부 렌더링으로 등장하던 검색결과를 드롭다운 형태로 변경
  - inputText 유무로 조건부 렌더링 되던 로직 삭제
  - MainSearchedCard 컴포넌트 내용 및 디자인 수정
  - input의 onFocus와 onBlur 속성을 이용해 드롭다운 on/off
  - 드롭다운 off의 시간을 setTimeOut으로 지연시켜 드롭다운의 링크 클릭 후 페이지 이동보다 먼저 off되는 상황 방지

## 23.06.27

- 장바구니 페이지 내 선택상품 일괄 삭제 로직 추가
- checkbox 선택 시 선택 삭제 버튼은 활성화, 주문하기 버튼은 비활성화 처리
  - 선택한 항목만 주문할 수 있는 기능으로 착각할 수 있기 때문에 기능 분리
- 관리자 권한 해제 로직 추가
  - 로그아웃시 새로고침 전까지 관리자페이지 버튼이 남아있는 문제 수정

## 23.06.28

- AccountPage 내 AccountList 영역 컴포넌트 분리
- OrderListPage 내 Calendar 영역과 Collapsible 영역 컴포넌트 분리
- likePage 내 LikeList 영억 컴포넌트 분리
- React-Query Library를 사용해 페이지 내에서 중복 호출되는 함수 관리
  - 한 페이지 내의 여러 컴포넌트에서 check 함수가 동시에 여러번 호출
  - Header의 check 함수를 useQuery로 호출해 데이터를 캐싱
  - 각 컴포넌트에서는 useQueryClient로 캐싱된 데이터를 받아와서 사용
    - 데이터가 바뀌지 않았을 때는 캐싱된 데이터만을 받아 렌더링 하므로 컴포넌트 렌더링 속도가 빠름
    - 같은 API 호출을 여러번 하지 않아 페이지 로드 성능 향상

## 23.06.29

- Header부터 Footer까지의 최소 높이 지정
  - App 컴포넌트 내에서 min-height에 100vh 적용 후 메인 컨텐츠 영역에 flex-grow 적용
- slick-slider의 prev, next 버튼 스타일링
  - setting props의 nextArrow와 prevArrow에 직접 컴포넌트를 추가하고 그 컴포넌트에 color prop을 전달하니 경고 발생
  - color prop을 전달할 nextArrow, prevArrow를 별도 컴포넌트화 시켜서 적용하니 정상 작동
- 브라우저를 이탈했다가 다시 focus 될 때마다 check 함수를 refetch 하는 문제 해결
  - useQuery의 옵션에 refetchOnWindowFocus:false 추가
  - 로그인 로그아웃시에 제대로 refetch를 못하는 문제가 생겨 상기 옵션 삭제
- LikePage의 useEffect Hook에서 함수가 무한 호출되는 현상 해결
  - 의존성 배열 추가
- CartPage에서 장바구니 목록이 없으면 선택 삭제 버튼이 나타나지 않도록 수정
- OrderListPage의 리스트별 고유 key값 추가

## 23.06.30

- Header의 check 함수 refetch 조건 추가
  - 로그인 시 username의 변화를 감지해 refetch
  - 로그아웃 시 refetch
- CartPage 접근시 로그인 여부 확인
  - 비 로그인시 메인 화면으로 이동
- ProductPage의 DetailWrapper가 스크롤에 따라 움직이도록 구현
- API 함수에 try catch문 적용 및 console.log 제거
- 계좌 추가시 은행을 선택하면 랜덤으로 계좌번호를 생성하도록 로직 구현
- CONFLICT 이후 pull을 받지 않은 구버전이 원본 repo에 덮어씌워진 문제 해결
  - git reset --hard로 CONFLICT 이전 시점으로 복귀
  - git push -f 로 해당 시점의 커밋으로 원본 repo에 덮어씌움
  - 모든 조원들의 기존 fork repo를 삭제한 후 다시 fork 및 clone
  - 다시 CONFLICT 처리 후 최신 버전으로 PR 및 merge

## 23.07.01

- AdminPage 내 전체 거래 내역 영역 로직 구현
  - 전체 거래 내역 렌더링
  - 구매확정/확정해제, 구매취소/취소해제 버튼 추가

## 23.07.02

- 컴포넌트 내에서 사용할 로딩 컴포넌트인 SubLoading 생성
- AdminPage, UserPage, MainPage(Tag) 내에 SubLoading 추가
- 계좌 추가시 사용 가능한 계좌 목록이 바로 나오도록 처리
  - 모달 상위 컴포넌트에서 useQuery로 계좌 목록 조회 및 캐싱
  - 모달에서 캐싱된 데이터 사용

## 23.07.03

- AdminPage 내 ProductPage 의 수정 모달 문제 해결
  - 아무런 값을 입력하지 않고 제출하면 태그와 할인율이 초기화 되는 문제
    - 모든 값이 optional이어야 하는데 기존 interface에 필수값이 존재
    - 모든 값이 optional인 IEditProduct interface 생성
    - state에 제네릭으로 interface 적용
  - 태그 수정시 띄어쓰기가 불가능한 문제
    - input value가 updatedform.tags 인데 해당 value를 form에 추가하는 로직에서 띄어쓰기를 제거함
    - trim() 메소드 제거
- AdminPage의 전체 거래내역의 정렬 문제 해결
  - Pagenation을 위한 setList 내에 sort적용

## 프로젝트 회고록

처음으로 하는 팀 프로젝트여서 걱정이 정말 많았습니다. 제 실력으로는 팀원들에게 폐나 끼치는게 아닐까 하는 생각이 컸고 모르는 부분은 최대한 찾아보고 질문하자는 마음가짐으로 프로젝트에 임하게 되었습니다. 다행히 팀원분들이 하나하나 잘 피드백 해 주시고 제 질문에 정성스럽게 답변해 주신 덕분에 금방금방 문제를 해결해 나갈 수 있었고 이번 프로젝트를 정말 즐겁게 참여할 수 있었습니다!

물론 큰 위기도 몇 번 있었습니다. yarn.lock 파일의 문제로 매번 충돌이 난다던가, 구버전이 merge 되면서 작업 내용이 날아갔다던가 등등... 하지만 모든 팀원분들의 활발한 참여로 문제를 신속하게 해결했고 특히 모두가 주 1~2회는 강의장에 모여 직접 서로의 코드를 보며 의견을 제시하고 질문하고 답변하는 시간을 가지다보니 큰 위기들을 넘길 때마다 서로에 대해 더 잘 이해하고 의지할 수 있었습니다.

한달이 조금 넘는 첫 팀프로젝트를 마치며 후련하면서도 한편으로는 함께 동고동락한 팀원들과 진행한 프로젝트를 뒤로하고 모두 흩어져야 한다는 아쉬움이 가득합니다. 하지만 이번 프로젝트로 한단계 더 성장했을 저와 팀원들 모두 다음 프로젝트에서도 잘 해낼거라 믿습니다. 8조 화이팅!

## 역할 정리

맡은 파트 : 사용자페이지 - 거래 내역 조회, 거래별 상세 내역 조회, 찜 목록 조회 페이지, 사용자 정보 수정 페이지

상세 활동 :

- Outlet을 활용한 중첩 라우팅으로 각 페이지 렌더링
- LocalStorage를 활용해 찜, 장바구니 기본기능 구현
- React-Collapsible 라이브러리로 개별 주문내역의 상세 정보 표시
- 기존 Login API의 Request Body를 변형해 사용자 정보 수정시 비밀번호 확인 기능 구현
  - 현재 사용자 인증을 통해 이메일을 받아와 변형 Login API의 Body에 입력
  - 비밀번호는 사용자가 직접 입력해 해당 이메일의 비밀번호가 일치하는지 확인
- FileReader의 인스턴스에서 사용 가능한 onLoad 메소드로 addEventListner를 대체해 사진 업로드 구현
  - 로드가 완료 된 이후 실행할 코드를 콜백함수 형태로 추가
  - 같은 방식의 이벤트 핸들러이나 조금 더 직관적인 형태로 작성
- React-Calendar를 활용해 선택한 날짜 범위 내의 주문내역 표시
  - 선택한 범위 내의 날짜를 배열로 저장
  - 주문 내역의 날짜들 중 상기 배열에 포함된 내역만 filter 메소드로 걸러내 렌더링
- 계좌 코드를 활용해 해당 계좌 코드에 해당하는 무작위 계좌번호 생성 로직 구현
  - 계좌 코드를 reduce 메소드로 합산해 총 길이 계산
  - 총 길이만큼의 랜덤한 0~9까지의 무작위 수를 추출
  - 해당 수들을 이어붙인 무작위 계좌번호 생성
  - 계좌 코드와 slice로 하이픈(-) 추가

추가 활동 :

- React-Query를 활용해 각 페이지에서 불필요한 동일 함수 호출 방지
  - 사용자 인증 함수는 Header 컴포넌트에서만 호출
  - 계좌 추가 버튼 동작시 나타나는 Modal에서의 사용 가능한 계좌 목록은 상위 컴포넌트에서 호출
  - useQuery를 사용해 QueryKey를 할당한 함수를 호출한 후 받은 data를 캐싱
  - 각 페이지에서는 QueryKey를 사용해 캐싱된 data를 받아 사용
  - 데이터 업데이트시 같은 QueryKey를 가진 data는 동시에 업데이트
  - 캐싱된 데이터는 fetched된 순간의 스냅샷이므로 API 호출 없이 바로 로드됨 (렌더링 시간 단축)
- styled-component의 keyframe을 활용해 애니메이션을 추가한 SubLoading 컴포넌트 기본형태 구현
- timePaid를 한국시간 포맷으로 만드는 adjustDate 공통함수 및 금액을 달러로 표기하는 formatDollar 공통함수 생성
- AdminPage 접근 권한 설정
  - 보안을 위해 환경변수(env)에 관리자 이메일과 계정명 추가
  - AdminPage 내 관리자 인증 로직 추가
- 제품 상세페이지의 우측 블록이 스크롤을 추적하도록 기능 구현
- 각종 문제 해결
